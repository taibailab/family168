CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE DEPT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,NAME VARCHAR(50),THE_SORT INTEGER,DESCN VARCHAR(200),PARENT_ID BIGINT,CONSTRAINT PK_DEPT PRIMARY KEY(ID),CONSTRAINT FK_DEPT_PARENT FOREIGN KEY(PARENT_ID) REFERENCES DEPT(ID))
CREATE MEMORY TABLE MENU(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,NAME VARCHAR(50),ICON_CLS VARCHAR(50),URL VARCHAR(50),THE_SORT INTEGER,DESCN VARCHAR(200),PARENT_ID BIGINT,QTIP VARCHAR(50),CONSTRAINT PK_MENU PRIMARY KEY(ID),CONSTRAINT FK_MENU_PARENT FOREIGN KEY(PARENT_ID) REFERENCES MENU(ID))
CREATE MEMORY TABLE RESC(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,NAME VARCHAR(50),RES_TYPE VARCHAR(50),RES_STRING VARCHAR(200),DESCN VARCHAR(200),CONSTRAINT PK_RESC PRIMARY KEY(ID))
CREATE MEMORY TABLE ROLE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,NAME VARCHAR(50),DESCN VARCHAR(200),CONSTRAINT PK_ROLE PRIMARY KEY(ID))
CREATE MEMORY TABLE USER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,USERNAME VARCHAR(50),PASSWORD VARCHAR(50),STATUS INTEGER,DESCN VARCHAR(200),DEPT_ID BIGINT,CONSTRAINT PK_USER PRIMARY KEY(ID),CONSTRAINT FK_USER_DEPT FOREIGN KEY(DEPT_ID) REFERENCES DEPT(ID))
CREATE MEMORY TABLE MENU_ROLE(MENU_ID BIGINT NOT NULL,ROLE_ID BIGINT NOT NULL,CONSTRAINT PK_MENU_ROLE PRIMARY KEY(MENU_ID,ROLE_ID),CONSTRAINT FK_MENU_ROLE_MENU FOREIGN KEY(MENU_ID) REFERENCES MENU(ID),CONSTRAINT FK_MENU_ROLE_ROLE FOREIGN KEY(ROLE_ID) REFERENCES ROLE(ID))
CREATE MEMORY TABLE RESC_ROLE(RESC_ID BIGINT NOT NULL,ROLE_ID BIGINT NOT NULL,CONSTRAINT PK_RESC_ROLE PRIMARY KEY(RESC_ID,ROLE_ID),CONSTRAINT FK_RESC_ROLE_RESOURCE FOREIGN KEY(RESC_ID) REFERENCES RESC(ID),CONSTRAINT FK_RESC_ROLE_ROLE FOREIGN KEY(ROLE_ID) REFERENCES ROLE(ID))
CREATE MEMORY TABLE USER_ROLE(USER_ID BIGINT NOT NULL,ROLE_ID BIGINT NOT NULL,CONSTRAINT PK_USER_ROLE PRIMARY KEY(USER_ID,ROLE_ID),CONSTRAINT FK_USER_ROLE_USER FOREIGN KEY(USER_ID) REFERENCES USER(ID),CONSTRAINT FK_USER_ROLE_ROLE FOREIGN KEY(ROLE_ID) REFERENCES ROLE(ID))
CREATE MEMORY TABLE ACL_SID(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL,PRINCIPAL INTEGER,SID VARCHAR(100),CONSTRAINT PK_ACL_SID PRIMARY KEY(ID),CONSTRAINT UK_ACL_SID UNIQUE(SID,PRINCIPAL))
CREATE MEMORY TABLE ACL_CLASS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL,CLASS VARCHAR(100),SID VARCHAR(100),CONSTRAINT PK_SCL_CLASS PRIMARY KEY(ID),CONSTRAINT UK_ACL_CLASS UNIQUE(CLASS))
CREATE MEMORY TABLE ACL_OBJECT_IDENTITY(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL,OBJECT_ID_CLASS BIGINT,OBJECT_ID_IDENTITY BIGINT,PARENT_OBJECT BIGINT,OWNER_SID BIGINT,ENTRIES_INHERITING INTEGER,CONSTRAINT PK_ACL_OBJECT_IDENTITY PRIMARY KEY(ID),CONSTRAINT UK_OBJECT_IDENTITY UNIQUE(OBJECT_ID_CLASS,OBJECT_ID_IDENTITY),CONSTRAINT FK_OBJECT_IDENTITY_PARENT_OBJECT FOREIGN KEY(PARENT_OBJECT) REFERENCES ACL_OBJECT_IDENTITY(ID),CONSTRAINT FK_OBJECT_IDENTITY_OBJECT_ID_CLASS FOREIGN KEY(OBJECT_ID_CLASS) REFERENCES ACL_CLASS(ID),CONSTRAINT FK_OBJECT_IDENTITY_OWNER_SID FOREIGN KEY(OWNER_SID) REFERENCES ACL_SID(ID))
CREATE MEMORY TABLE ACL_ENTRY(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL,ACL_OBJECT_IDENTITY BIGINT,ACE_ORDER INTEGER,SID BIGINT,MASK INTEGER,GRANTING INTEGER,AUDIT_SUCCESS INTEGER,AUDIT_FAILURE INTEGER,CONSTRAINT PK_ACL_ENTRY PRIMARY KEY(ID),CONSTRAINT UK_ACL_ENTRY UNIQUE(ACL_OBJECT_IDENTITY,ACE_ORDER),CONSTRAINT FK_ACL_ENTRY_ACL_OBJECT_IDENTITY FOREIGN KEY(ACL_OBJECT_IDENTITY) REFERENCES ACL_OBJECT_IDENTITY(ID),CONSTRAINT FK_ACL_ENTRY_SID FOREIGN KEY(SID) REFERENCES ACL_SID(ID))
CREATE MEMORY TABLE AFFICE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CONTENT VARCHAR(2000),TIME TIMESTAMP,TITLE VARCHAR(40),EMPLOYEE_ID BIGINT,CONSTRAINT SYS_CT_96 UNIQUE(ID))
CREATE MEMORY TABLE BUMF(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AFFIX VARCHAR(40),CONTENT VARCHAR(2000),EXAMINE INTEGER,SIGN INTEGER,TIME TIMESTAMP,TITLE VARCHAR(40),ACCEPTER BIGINT,SENDER BIGINT,CONSTRAINT SYS_CT_100 UNIQUE(ID))
CREATE MEMORY TABLE DEPARTMENT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DESCN VARCHAR(200),NAME VARCHAR(20),CONSTRAINT SYS_CT_104 UNIQUE(ID))
CREATE MEMORY TABLE EMPLOYEE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,ADDR VARCHAR(200),BIRTHDAY TIMESTAMP,LEARN VARCHAR(10),NAME VARCHAR(20),POST VARCHAR(10),SEX INTEGER,TEL VARCHAR(20),DEPARTMENT_ID BIGINT,JOB_ID BIGINT,STATE_ID BIGINT,CONSTRAINT SYS_CT_108 UNIQUE(ID),CONSTRAINT FK75C8D6AEE6AA653 FOREIGN KEY(DEPARTMENT_ID) REFERENCES DEPARTMENT(ID))
CREATE MEMORY TABLE JOB(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DESCN VARCHAR(200),NAME VARCHAR(20),CONSTRAINT SYS_CT_112 UNIQUE(ID))
CREATE MEMORY TABLE MESSAGE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CONTENT VARCHAR(2000),STATUS INTEGER,TIME TIMESTAMP,TITLE VARCHAR(40),ACCEPTER BIGINT,SENDER BIGINT,CONSTRAINT SYS_CT_116 UNIQUE(ID),CONSTRAINT FK63B68BE79A9BF67C FOREIGN KEY(ACCEPTER) REFERENCES EMPLOYEE(ID),CONSTRAINT FK63B68BE7E48D70FC FOREIGN KEY(SENDER) REFERENCES EMPLOYEE(ID))
CREATE MEMORY TABLE SIGN(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LATE INTEGER,LEAVE INTEGER,QUIT INTEGER,TIME TIMESTAMP,WORK INTEGER,EMPLOYEE_ID BIGINT,SIGN_STATE_ID BIGINT,CONSTRAINT SYS_CT_120 UNIQUE(ID),CONSTRAINT FK26D5BD51093B13 FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(ID))
CREATE MEMORY TABLE SIGN_STATE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(20),TIME TIMESTAMP,CONSTRAINT SYS_CT_124 UNIQUE(ID))
CREATE MEMORY TABLE STATE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DESCN VARCHAR(200),NAME VARCHAR(10),CONSTRAINT SYS_CT_128 UNIQUE(ID))
ALTER TABLE AFFICE ADD CONSTRAINT FK72E65A0A51093B13 FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(ID)
ALTER TABLE BUMF ADD CONSTRAINT FK1F492C9A9BF67C FOREIGN KEY(ACCEPTER) REFERENCES EMPLOYEE(ID)
ALTER TABLE BUMF ADD CONSTRAINT FK1F492CE48D70FC FOREIGN KEY(SENDER) REFERENCES EMPLOYEE(ID)
ALTER TABLE EMPLOYEE ADD CONSTRAINT FK75C8D6AEDD590AA1 FOREIGN KEY(STATE_ID) REFERENCES STATE(ID)
ALTER TABLE EMPLOYEE ADD CONSTRAINT FK75C8D6AE9FE1A0E1 FOREIGN KEY(JOB_ID) REFERENCES JOB(ID)
ALTER TABLE SIGN ADD CONSTRAINT FK26D5BD595E27A6 FOREIGN KEY(SIGN_STATE_ID) REFERENCES SIGN_STATE(ID)
ALTER TABLE DEPT ALTER COLUMN ID RESTART WITH 10
ALTER TABLE MENU ALTER COLUMN ID RESTART WITH 29
ALTER TABLE RESC ALTER COLUMN ID RESTART WITH 8
ALTER TABLE ROLE ALTER COLUMN ID RESTART WITH 14
ALTER TABLE USER ALTER COLUMN ID RESTART WITH 8
ALTER TABLE ACL_SID ALTER COLUMN ID RESTART WITH 102
ALTER TABLE ACL_CLASS ALTER COLUMN ID RESTART WITH 102
ALTER TABLE ACL_OBJECT_IDENTITY ALTER COLUMN ID RESTART WITH 102
ALTER TABLE ACL_ENTRY ALTER COLUMN ID RESTART WITH 102
ALTER TABLE AFFICE ALTER COLUMN ID RESTART WITH 3
ALTER TABLE BUMF ALTER COLUMN ID RESTART WITH 3
ALTER TABLE DEPARTMENT ALTER COLUMN ID RESTART WITH 3
ALTER TABLE EMPLOYEE ALTER COLUMN ID RESTART WITH 2
ALTER TABLE JOB ALTER COLUMN ID RESTART WITH 2
ALTER TABLE MESSAGE ALTER COLUMN ID RESTART WITH 6
ALTER TABLE SIGN ALTER COLUMN ID RESTART WITH 4
ALTER TABLE SIGN_STATE ALTER COLUMN ID RESTART WITH 2
ALTER TABLE STATE ALTER COLUMN ID RESTART WITH 2
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
SET SCHEMA PUBLIC
INSERT INTO DEPT VALUES(1,'default',NULL,'default',NULL)
INSERT INTO MENU VALUES(1,'\u90e8\u95e8\u7ba1\u7406','config',NULL,14,'index',NULL,NULL)
INSERT INTO MENU VALUES(2,'\u5458\u5de5\u7ba1\u7406','config',NULL,12,'user',NULL,NULL)
INSERT INTO MENU VALUES(3,'\u516c\u6587\u7ba1\u7406','config',NULL,10,'role',NULL,NULL)
INSERT INTO MENU VALUES(4,'\u516c\u544a\u7ba1\u7406','config',NULL,8,'resc',NULL,NULL)
INSERT INTO MENU VALUES(5,'\u7ec4\u7ec7\u673a\u6784','config',NULL,5,'menu',NULL,NULL)
INSERT INTO MENU VALUES(6,'\u6743\u9650\u7ba1\u7406','add','security',0,'',NULL,'')
INSERT INTO MENU VALUES(7,'\u6536\u53d1\u4fe1\u606f','config',NULL,18,NULL,NULL,NULL)
INSERT INTO MENU VALUES(8,'\u4f18\u79c0\u5458\u5de5\u7ba1\u7406','config',NULL,20,NULL,NULL,NULL)
INSERT INTO MENU VALUES(9,'\u8d44\u6e90','wrench','resc',1,'',6,'')
INSERT INTO MENU VALUES(10,'\u89d2\u8272','user_delete','role',2,'',6,'')
INSERT INTO MENU VALUES(11,'\u7528\u6237','config','user',3,'',6,'')
INSERT INTO MENU VALUES(12,'\u83dc\u5355','config','menu',4,'',6,'')
INSERT INTO MENU VALUES(13,'\u7ec4\u7ec7\u673a\u6784\u90e8\u95e8','config','dept',6,'',5,'')
INSERT INTO MENU VALUES(14,'\u7ec4\u7ec7\u673a\u6784','config','org',7,'',5,'')
INSERT INTO MENU VALUES(16,'\u67e5\u770b\u516c\u544a','config','view-affice',9,'',4,'')
INSERT INTO MENU VALUES(17,'\u67e5\u770b\u516c\u6587','config','send-bumf',11,'',3,'')
INSERT INTO MENU VALUES(19,'\u67e5\u770b\u5458\u5de5','config','view-emp',13,'',2,'')
INSERT INTO MENU VALUES(22,'\u67e5\u770b\u90e8\u95e8','config','view-dept',15,'',1,'')
INSERT INTO MENU VALUES(23,'\u67e5\u770b\u804c\u4f4d','config','view-job',16,'',1,'')
INSERT INTO MENU VALUES(24,'\u67e5\u770b\u72b6\u6001','config','view-state',17,'',1,'')
INSERT INTO MENU VALUES(25,'\u67e5\u770b\u4fe1\u606f','config','view-msg',19,'',7,'')
INSERT INTO MENU VALUES(27,'\u4e0a\u4e0b\u73ed\u65f6\u95f4\u7ba1\u7406','config','add-best',21,'',8,'')
INSERT INTO MENU VALUES(28,'\u8003\u52e4\u8bb0\u5f55','config','view-best',22,'',8,'')
INSERT INTO RESC VALUES(1,'index','URL','/y','index')
INSERT INTO RESC VALUES(2,'user','URL','/security/user*','user')
INSERT INTO RESC VALUES(3,'role','URL','/security/role*','role')
INSERT INTO RESC VALUES(4,'resc','URL','/security/resc*','resc')
INSERT INTO RESC VALUES(5,'menu','URL','/security/menu*','menu')
INSERT INTO RESC VALUES(6,'dept','URL','/security/dept*','dept')
INSERT INTO RESC VALUES(7,'login','URL','/x','login')
INSERT INTO ROLE VALUES(4,'ROLE_USER','user')
INSERT INTO ROLE VALUES(5,'ROLE_ADMIN','admin')
INSERT INTO ROLE VALUES(6,'no','no')
INSERT INTO ROLE VALUES(7,'ACL_USER_CREATE','acl user create')
INSERT INTO ROLE VALUES(8,'ACL_USER_ADMIN','acl user admin')
INSERT INTO USER VALUES(1,'test','098f6bcd4621d373cade4e832627b4f6',1,'test',NULL)
INSERT INTO USER VALUES(2,'user','ee11cbb19052e40b07aac0ca060c23ee',1,'user',NULL)
INSERT INTO USER VALUES(3,'no','7fa3b767c460b54a2be4d49030b349c7',1,'no',NULL)
INSERT INTO USER VALUES(4,'12','12',12,'12',1)
INSERT INTO USER VALUES(5,'1','c4ca4238a0b923820dcc509a6f75849b',1,'1',1)
INSERT INTO MENU_ROLE VALUES(1,4)
INSERT INTO MENU_ROLE VALUES(1,6)
INSERT INTO MENU_ROLE VALUES(2,4)
INSERT INTO MENU_ROLE VALUES(3,4)
INSERT INTO MENU_ROLE VALUES(3,6)
INSERT INTO MENU_ROLE VALUES(4,4)
INSERT INTO MENU_ROLE VALUES(4,6)
INSERT INTO MENU_ROLE VALUES(5,4)
INSERT INTO MENU_ROLE VALUES(6,4)
INSERT INTO MENU_ROLE VALUES(7,4)
INSERT INTO MENU_ROLE VALUES(8,4)
INSERT INTO MENU_ROLE VALUES(9,4)
INSERT INTO MENU_ROLE VALUES(10,4)
INSERT INTO MENU_ROLE VALUES(11,4)
INSERT INTO MENU_ROLE VALUES(12,4)
INSERT INTO MENU_ROLE VALUES(13,4)
INSERT INTO MENU_ROLE VALUES(14,4)
INSERT INTO MENU_ROLE VALUES(16,4)
INSERT INTO MENU_ROLE VALUES(16,6)
INSERT INTO MENU_ROLE VALUES(17,4)
INSERT INTO MENU_ROLE VALUES(17,6)
INSERT INTO MENU_ROLE VALUES(19,4)
INSERT INTO MENU_ROLE VALUES(22,4)
INSERT INTO MENU_ROLE VALUES(23,4)
INSERT INTO MENU_ROLE VALUES(24,4)
INSERT INTO MENU_ROLE VALUES(25,4)
INSERT INTO MENU_ROLE VALUES(27,4)
INSERT INTO MENU_ROLE VALUES(28,4)
INSERT INTO RESC_ROLE VALUES(1,4)
INSERT INTO RESC_ROLE VALUES(1,6)
INSERT INTO RESC_ROLE VALUES(2,5)
INSERT INTO RESC_ROLE VALUES(2,6)
INSERT INTO RESC_ROLE VALUES(3,5)
INSERT INTO RESC_ROLE VALUES(4,5)
INSERT INTO RESC_ROLE VALUES(5,5)
INSERT INTO RESC_ROLE VALUES(6,5)
INSERT INTO RESC_ROLE VALUES(7,4)
INSERT INTO RESC_ROLE VALUES(7,5)
INSERT INTO USER_ROLE VALUES(1,4)
INSERT INTO USER_ROLE VALUES(1,5)
INSERT INTO USER_ROLE VALUES(1,7)
INSERT INTO USER_ROLE VALUES(1,8)
INSERT INTO USER_ROLE VALUES(2,6)
INSERT INTO USER_ROLE VALUES(2,7)
INSERT INTO USER_ROLE VALUES(3,8)
INSERT INTO USER_ROLE VALUES(4,4)
INSERT INTO USER_ROLE VALUES(4,5)
INSERT INTO USER_ROLE VALUES(4,6)
INSERT INTO USER_ROLE VALUES(4,7)
INSERT INTO USER_ROLE VALUES(4,8)
INSERT INTO AFFICE VALUES(2,'\u5185\u5bb9','2009-04-18 00:00:00.000000000','\u6807\u9898',1)
INSERT INTO BUMF VALUES(1,'1','1',1,1,'2009-04-18 00:00:00.000000000','1',1,1)
INSERT INTO BUMF VALUES(2,'12','12',12,2,'2009-04-18 00:00:00.000000000','12',1,1)
INSERT INTO DEPARTMENT VALUES(1,'1','\u90e8\u95e81')
INSERT INTO DEPARTMENT VALUES(2,'2','\u90e8\u95e82')
INSERT INTO EMPLOYEE VALUES(1,'1','2009-04-07 00:00:00.000000000','1','\u5c0f\u5458\u5de5','1',1,'1',2,1,1)
INSERT INTO JOB VALUES(1,'2','\u804c\u4f4d1')
INSERT INTO MESSAGE VALUES(2,'1',1,'2009-04-18 00:00:00.000000000','1111',NULL,NULL)
INSERT INTO MESSAGE VALUES(3,'1',1,'2009-04-18 00:00:00.000000000','1',NULL,NULL)
INSERT INTO MESSAGE VALUES(4,'1',1,'2009-04-18 00:00:00.000000000','1',NULL,1)
INSERT INTO MESSAGE VALUES(5,'2',2,'2009-04-09 00:00:00.000000000','1',1,1)
INSERT INTO SIGN VALUES(3,2,2,2,'2009-04-08 00:00:00.000000000',2,1,1)
INSERT INTO SIGN_STATE VALUES(1,'\u4e0a\u73ed','2009-04-07 00:00:00.000000000')
INSERT INTO STATE VALUES(1,'3','\u72b6\u60011')
